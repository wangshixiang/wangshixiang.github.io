# 一种加密通讯方案

组合使用对称加密和不对称加密,防止被抓包分析。

1. 客户端或浏览器通过各种途径获取服务器公钥（使用非http/https方法可抵御中间人攻击）。
2. 客户端或浏览器生成随机秘钥（如时间戳加随机数组成字符串）。
3. 客户端或浏览器向服务器提交经公钥加密的对称加密秘钥，同时提交经对称加密的数据。
4. 服务器用私钥解密对称加密秘钥。使用解密的秘钥解密数据。
5. 服务器使用解密的秘钥加密报文，返回报文。
6. 服务器缓存解密的秘钥，指定时间内如5s内该秘钥无法再次使用。

另：使用https方法且客户端预置公钥也可解决此问题。